(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c});var a=n(53),i=n(39),r=n(40);function o(t,n){return new Promise(function(o,c){var s=i.stringify({encrypted_metadata:t,data:n}),d={hostname:r.awsLambda.saveTaskData.host,port:443,path:r.awsLambda.saveTaskData.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(s)}},u=a.request(d,function(e){e.setEncoding("utf8"),e.on("data",function(){}),e.on("end",o)});u.on("error",function(e){r.debug&&(console.log("ERROR:"),console.log(e)),c(e)}),u.write(s),u.end()})}function c(t){return new Promise(function(n,o){var c=i.stringify({encrypted_metadata:t}),s={hostname:r.awsLambda.fetchLink.host,port:443,path:r.awsLambda.fetchLink.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(c)}},d=a.request(s,function(e){e.setEncoding("utf8");var t="";e.on("data",function(e){t+=e}),e.on("end",function(){return n(t)})});d.on("error",function(e){r.debug&&(console.log("ERROR:"),console.log(e)),o(e)}),d.write(c),d.end()})}}).call(this,n(9).Buffer)},40:function(e){e.exports={taskVersion:"1.0.0",taskName:"visualQualifying",debug:!0,awsLambda:{saveTaskData:{host:"de8cnjde61.execute-api.us-east-2.amazonaws.com",path:"/default/saveTaskData"},fetchLink:{host:"3pnzb6n9vf.execute-api.us-east-2.amazonaws.com",path:"/default/fetchLink"}}}},45:function(e,t,n){e.exports=n(94)},57:function(e,t){},59:function(e,t){},71:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(42),o=n.n(r),c=n(16),s=n(17),d=n(19),u=n(18),l=n(20),p=n(6),f=n(23),h=(n(71),n(40)),m=n(72),b=n(73);n(85);var v=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(d.a)(this,Object(u.a)(t).call(this,e));var a=b.parse(n.props.location.search,{ignoreQueryPrefix:!0});return n.state={encryptedMetadata:a.id,sendingData:!1,link:void 0},m.isUndefined(n.state.encryptedMetadata)||(n.addScript("/LabJsWrapper/external/lab.js",!1,"module"),n.addScript("/LabJsWrapper/external/init.js",!1)),n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){m.isUndefined(this.state.encryptedMetadata)||this.addScript("/LabJsWrapper/script.js",!0);var e=this;window.addEventListener("message",function(t){if("labjs.data"===t.data.type){var n=t.data.json;if(h.debug)return void console.log(n);e.setState({sendingData:!0}),Object(f.b)(e.state.encryptedMetadata,n).then(function(){Object(f.a)(e.state.encryptedMetadata).then(function(t){return e.setState({link:t})})})}})}},{key:"addScript",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=document.createElement("script");a.src=e,a.defer=t,n&&(a.type=n),document.body.appendChild(a)}},{key:"render",value:function(){return m.isUndefined(this.state.encryptedMetadata)?i.a.createElement("div",null,i.a.createElement("h2",null,"Something went wrong. Please try again.")):this.state.sendingData?(m.isUndefined(this.state.link)||window.location.assign(this.state.link),i.a.createElement("div",null,i.a.createElement("h2",null,"Please wait... Do not exit window!"))):i.a.createElement("div",{className:"container fullscreen","data-labjs-section":"main"},i.a.createElement("main",{className:"content-vertical-center content-horizontal-center"},i.a.createElement("div",null,i.a.createElement("h2",null,"Loading Experiment"),i.a.createElement("p",null,"The experiment is loading and should start in a few seconds"))))}}]),t}(a.Component),w=function(){return i.a.createElement(p.c,null,i.a.createElement(p.a,{path:"/",exact:!0,component:v}))},g=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(w,null))}}]),t}(a.Component),y=n(22),E=n(3);n.d(t,"history",function(){return j});var j=Object(E.a)();o.a.render(i.a.createElement(y.a,{history:j,basename:"/LabJsWrapper"},i.a.createElement(g,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.0f1e0994.chunk.js.map